<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MP3 Master Editor</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <!-- External Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lamejs/1.2.1/lame.min.js"></script>
  <!-- Styles -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <!-- Logo -->
  <img class="logo" src="MP3 Master Editor.png" alt="MP3 Master Editor" title="MP3 Master Editor">

  <div class="container">
    <!-- Tab navigation -->
    <div class="tabs">
      <button class="tab-btn active" data-tab="repeater">MP3 Repeater</button>
      <button class="tab-btn" data-tab="setlist">Set List Creator</button>
      <button class="tab-btn" data-tab="editor">MP3 Editor</button>
      <button class="tab-btn" data-tab="converter">MP3 / WAV Converter</button>
      <button class="tab-btn" data-tab="musicgen">AI Music Generator</button>
    </div>

    <!-- ════════════════════════════════════════════ -->
    <!-- Tab 1: MP3 Repeater                         -->
    <!-- ════════════════════════════════════════════ -->
    <div class="tab-panel active" id="tab-repeater">
      <h2>MP3 Repeater</h2>
      <p class="subtitle">Upload an MP3, choose how many times it repeats, and download the result.</p>

      <div class="upload-area" id="rpt-uploadArea">
        <input type="file" id="rpt-fileInput" accept=".mp3,audio/mpeg">
        <p class="upload-label">Click or drag an MP3 file here</p>
        <p class="file-name" id="rpt-fileName"></p>
      </div>
      <div class="controls">
        <label for="rpt-repeatCount">Total plays:</label>
        <input type="number" id="rpt-repeatCount" min="1" max="50" value="3">
        <span class="hint">e.g. 3 = song plays 3 times</span>
      </div>

      <div class="error" id="rpt-errorBox"></div>

      <button class="action-btn" id="rpt-processBtn" disabled>Select an MP3 first</button>

      <div class="progress-wrap" id="rpt-progressWrap">
        <div class="progress-bar"><div class="fill" id="rpt-progressFill"></div></div>
        <p class="progress-text" id="rpt-progressText">Starting...</p>
      </div>

      <div class="result" id="rpt-result">
        <a id="rpt-downloadLink" href="#" download="repeated.mp3">Download Repeated MP3</a>
        <p class="info" id="rpt-resultInfo"></p>
        <div class="preview">
          <p class="preview-label">Preview:</p>
          <audio id="rpt-audioPreview" controls></audio>
        </div>
      </div>
    </div>

    <!-- ════════════════════════════════════════════ -->
    <!-- Tab 2: Set List Creator                     -->
    <!-- ════════════════════════════════════════════ -->
    <div class="tab-panel" id="tab-setlist">
      <h2>Set List Creator</h2>
      <p class="subtitle">Upload your MP3s, arrange them into a set list, and export as one combined MP3.</p>

      <div class="upload-area" id="sl-uploadArea">
        <input type="file" id="sl-fileInput" accept=".mp3,audio/mpeg" multiple>
        <p class="upload-label">Click or drag MP3 files here (multiple)</p>
        <p class="file-name" id="sl-fileStatus"></p>
      </div>
      <div class="file-list" id="sl-fileList" style="display:none;">
        <p class="file-list-title">Uploaded songs:</p>
        <ul class="file-list-items" id="sl-fileListItems"></ul>
      </div>

      <div class="controls">
        <label for="sl-songCount">Songs in set list:</label>
        <input type="number" id="sl-songCount" min="1" max="100" value="3">
        <button class="action-btn" id="sl-buildSlotsBtn" style="width:auto; padding:8px 16px; margin:0; font-size:0.85rem;">Update slots</button>
      </div>

      <div class="setlist-slots" id="sl-slots"></div>

      <div class="error" id="sl-errorBox"></div>

      <button class="action-btn" id="sl-processBtn" disabled>Upload songs &amp; build set list first</button>

      <div class="progress-wrap" id="sl-progressWrap">
        <div class="progress-bar"><div class="fill" id="sl-progressFill"></div></div>
        <p class="progress-text" id="sl-progressText">Starting...</p>
      </div>

      <div class="result" id="sl-result">
        <a id="sl-downloadLink" href="#" download="setlist.mp3">Download Set List MP3</a>
        <p class="info" id="sl-resultInfo"></p>
        <div class="preview">
          <p class="preview-label">Preview:</p>
          <audio id="sl-audioPreview" controls></audio>
        </div>
      </div>
    </div>

    <!-- ════════════════════════════════════════════ -->
    <!-- Tab 3: MP3 Editor                           -->
    <!-- ════════════════════════════════════════════ -->
    <div class="tab-panel" id="tab-editor">
      <h2>MP3 Editor</h2>
      <p class="subtitle">Upload MP3s to the file library, drag them onto tracks, mix with volume &amp; pan, trim, fade, and export.</p>

      <div class="editor-layout">
        <!-- ── Left: Workspace ── -->
        <div class="editor-main">
          <div class="error" id="ed-errorBox"></div>

          <!-- Track toolbar -->
          <div class="editor-track-toolbar">
            <button class="editor-add-track-btn" id="ed-addTrackBtn">+ Add Track</button>
            <span class="editor-track-count" id="ed-trackCount">0 tracks</span>
          </div>

          <!-- Track rows (built by JS) -->
          <div class="editor-tracks" id="ed-tracksContainer"></div>

          <!-- Global timeline waveform -->
          <div class="editor-workspace" id="ed-workspace">
            <div class="waveform-container" id="ed-waveformContainer">
              <div class="waveform-lanes" id="ed-waveformLanes"></div>
              <div class="trim-overlay-left" id="ed-overlayLeft"></div>
              <div class="trim-overlay-right" id="ed-overlayRight"></div>
              <div class="trim-handle trim-handle-left" id="ed-handleLeft"></div>
              <div class="trim-handle trim-handle-right" id="ed-handleRight"></div>
              <div class="playhead" id="ed-playhead"></div>
            </div>

            <div class="trim-times">
              <span>Start: <span class="time-green" id="ed-trimStart">0:00.0</span></span>
              <span>Selection: <span id="ed-trimDuration">0:00.0</span></span>
              <span>End: <span class="time-red" id="ed-trimEnd">0:00.0</span></span>
            </div>

            <!-- Toolbar -->
            <div class="editor-toolbar">
              <button id="ed-playToggle">Play (Space)</button>
              <button id="ed-resetBtn">Reset trim</button>
              <button id="ed-fadeToggle">Fade In/Out</button>
              <button id="ed-eqToggle">Equalizer</button>
              <button id="ed-compToggle">Compressor</button>
              <button id="ed-reverbToggle">Reverb</button>
              <button id="ed-delayToggle">Delay</button>
              <button id="ed-distortToggle">Distortion</button>
            </div>

            <!-- FX Target Selector -->
            <div class="fx-target-bar" id="ed-fxTargetBar">
              <span class="fx-target-label">Effects target:</span>
              <div class="fx-target-pills" id="ed-fxTargetPills"></div>
            </div>

            <!-- Fade controls -->
            <div class="effect-controls" id="ed-fadeControls">
              <div class="effect-section-title">Fade In / Out</div>
              <div class="effect-row">
                <label>Fade in:</label>
                <input type="range" id="ed-fadeIn" min="0" max="10" step="0.1" value="0">
                <span class="range-val" id="ed-fadeInVal">0.0s</span>
              </div>
              <div class="effect-row">
                <label>Fade out:</label>
                <input type="range" id="ed-fadeOut" min="0" max="10" step="0.1" value="0">
                <span class="range-val" id="ed-fadeOutVal">0.0s</span>
              </div>
            </div>

            <!-- Equalizer controls -->
            <div class="effect-controls" id="ed-eqControls">
              <div class="effect-section-title">3-Band Equalizer</div>
              <div class="effect-row">
                <label>Low (320Hz):</label>
                <input type="range" id="ed-eqLow" min="-12" max="12" step="0.5" value="0">
                <span class="range-val" id="ed-eqLowVal">0 dB</span>
              </div>
              <div class="effect-row">
                <label>Mid (1kHz):</label>
                <input type="range" id="ed-eqMid" min="-12" max="12" step="0.5" value="0">
                <span class="range-val" id="ed-eqMidVal">0 dB</span>
              </div>
              <div class="effect-row">
                <label>High (3.2kHz):</label>
                <input type="range" id="ed-eqHigh" min="-12" max="12" step="0.5" value="0">
                <span class="range-val" id="ed-eqHighVal">0 dB</span>
              </div>
            </div>

            <!-- Compressor controls -->
            <div class="effect-controls" id="ed-compControls">
              <div class="effect-section-title">Compressor</div>
              <div class="effect-row">
                <label>Threshold:</label>
                <input type="range" id="ed-compThreshold" min="-60" max="0" step="1" value="-24">
                <span class="range-val" id="ed-compThresholdVal">-24 dB</span>
              </div>
              <div class="effect-row">
                <label>Ratio:</label>
                <input type="range" id="ed-compRatio" min="1" max="20" step="0.5" value="4">
                <span class="range-val" id="ed-compRatioVal">4:1</span>
              </div>
              <div class="effect-row">
                <label>Attack:</label>
                <input type="range" id="ed-compAttack" min="0" max="200" step="1" value="10">
                <span class="range-val" id="ed-compAttackVal">10 ms</span>
              </div>
              <div class="effect-row">
                <label>Release:</label>
                <input type="range" id="ed-compRelease" min="50" max="1000" step="10" value="250">
                <span class="range-val" id="ed-compReleaseVal">250 ms</span>
              </div>
            </div>

            <!-- Reverb controls -->
            <div class="effect-controls" id="ed-reverbControls">
              <div class="effect-section-title">Reverb</div>
              <div class="effect-row">
                <label>Decay:</label>
                <input type="range" id="ed-reverbDecay" min="0.5" max="5" step="0.1" value="2">
                <span class="range-val" id="ed-reverbDecayVal">2.0 s</span>
              </div>
              <div class="effect-row">
                <label>Wet/Dry:</label>
                <input type="range" id="ed-reverbMix" min="0" max="100" step="1" value="30">
                <span class="range-val" id="ed-reverbMixVal">30%</span>
              </div>
            </div>

            <!-- Delay controls -->
            <div class="effect-controls" id="ed-delayControls">
              <div class="effect-section-title">Delay / Echo</div>
              <div class="effect-row">
                <label>Time:</label>
                <input type="range" id="ed-delayTime" min="0" max="1000" step="10" value="300">
                <span class="range-val" id="ed-delayTimeVal">300 ms</span>
              </div>
              <div class="effect-row">
                <label>Feedback:</label>
                <input type="range" id="ed-delayFeedback" min="0" max="80" step="1" value="40">
                <span class="range-val" id="ed-delayFeedbackVal">40%</span>
              </div>
              <div class="effect-row">
                <label>Mix:</label>
                <input type="range" id="ed-delayMix" min="0" max="100" step="1" value="25">
                <span class="range-val" id="ed-delayMixVal">25%</span>
              </div>
            </div>

            <!-- Distortion controls -->
            <div class="effect-controls" id="ed-distortControls">
              <div class="effect-section-title">Distortion</div>
              <div class="effect-row">
                <label>Drive:</label>
                <input type="range" id="ed-distortDrive" min="0" max="100" step="1" value="50">
                <span class="range-val" id="ed-distortDriveVal">50</span>
              </div>
              <div class="effect-row">
                <label>Tone:</label>
                <input type="range" id="ed-distortTone" min="200" max="8000" step="100" value="3000">
                <span class="range-val" id="ed-distortToneVal">3000 Hz</span>
              </div>
            </div>

            <!-- Export -->
            <button class="action-btn" id="ed-exportBtn">Export Mixed MP3</button>

            <div class="progress-wrap" id="ed-progressWrap">
              <div class="progress-bar"><div class="fill" id="ed-progressFill"></div></div>
              <p class="progress-text" id="ed-progressText">Starting...</p>
            </div>

            <div class="result" id="ed-result">
              <a id="ed-downloadLink" href="#" download="edited.mp3">Download Edited MP3</a>
              <p class="info" id="ed-resultInfo"></p>
              <div class="analysis-badges" id="ed-analysisBadges" style="display:none;">
                <span class="analysis-badge bpm-badge" id="ed-bpmBadge"></span>
                <span class="analysis-badge key-badge" id="ed-keyBadge"></span>
              </div>
              <div class="preview">
                <p class="preview-label">Preview:</p>
                <audio id="ed-audioPreview" controls></audio>
              </div>
            </div>

            <!-- ── Stem Separation ── -->
            <div class="separator-section" id="ed-separatorSection">
              <div class="section-divider"></div>
              <h3 class="section-heading">Stem Separation</h3>
              <p class="section-subtitle">Separate vocals from instrumental using AI (Demucs v4 via Hugging Face)</p>

              <button class="action-btn separator-btn" id="sep-startBtn" disabled>
                Load an MP3 above first
              </button>

              <div class="separator-status" id="sep-status" style="display:none;">
                <div class="separator-status-icon" id="sep-statusIcon"></div>
                <span id="sep-statusText">Connecting to AI service...</span>
              </div>

              <div class="progress-wrap" id="sep-progressWrap">
                <div class="progress-bar"><div class="fill" id="sep-progressFill"></div></div>
                <p class="progress-text" id="sep-progressText"></p>
              </div>

              <div class="error" id="sep-errorBox"></div>

              <div class="separator-results" id="sep-results" style="display:none;">
                <div class="stem-card">
                  <h4>Vocals</h4>
                  <audio id="sep-vocalsAudio" controls></audio>
                  <a class="stem-download-btn" id="sep-vocalsDownload" href="#" download="vocals.mp3">
                    Download Vocals
                  </a>
                </div>
                <div class="stem-card">
                  <h4>Instrumental</h4>
                  <audio id="sep-instrumentalAudio" controls></audio>
                  <a class="stem-download-btn" id="sep-instrumentalDownload" href="#" download="instrumental.mp3">
                    Download Instrumental
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ── Right: File Library Panel ── -->
        <div class="editor-file-panel">
          <div class="file-panel-header">
            <h3>File Library</h3>
            <div class="upload-area upload-area-compact" id="ed-uploadArea">
              <input type="file" id="ed-fileInput" accept=".mp3,audio/mpeg" multiple>
              <p class="upload-label">Click or drag MP3s here</p>
              <p class="file-name" id="ed-fileName"></p>
            </div>
          </div>
          <div class="file-panel-list" id="ed-libraryList"></div>
          <div class="file-panel-footer" id="ed-libraryFooter"></div>
        </div>
      </div>
    </div>

    <!-- ════════════════════════════════════════════ -->
    <!-- Tab 4: MP3 / WAV Converter                  -->
    <!-- ════════════════════════════════════════════ -->
    <div class="tab-panel" id="tab-converter">
      <h2>MP3 / WAV Converter</h2>
      <p class="subtitle">Convert between MP3 and WAV formats. Upload one, download the other.</p>

      <div class="upload-area" id="cvt-uploadArea">
        <input type="file" id="cvt-fileInput" accept=".mp3,.wav,audio/mpeg,audio/wav">
        <p class="upload-label">Click or drag an MP3 or WAV file here</p>
        <p class="file-name" id="cvt-fileName"></p>
      </div>

      <div class="converter-format-row">
        <span class="converter-format-badge" id="cvt-formatInfo" style="display:none;"></span>
      </div>

      <div class="error" id="cvt-errorBox"></div>

      <button class="action-btn" id="cvt-processBtn" disabled>Select an audio file first</button>

      <div class="progress-wrap" id="cvt-progressWrap">
        <div class="progress-bar"><div class="fill" id="cvt-progressFill"></div></div>
        <p class="progress-text" id="cvt-progressText">Starting...</p>
      </div>

      <div class="result" id="cvt-result">
        <a id="cvt-downloadLink" href="#" download="converted.wav">Download Converted File</a>
        <p class="info" id="cvt-resultInfo"></p>
        <div class="preview">
          <p class="preview-label">Preview:</p>
          <audio id="cvt-audioPreview" controls></audio>
        </div>
      </div>
    </div>
    <!-- ════════════════════════════════════════════ -->
    <!-- Tab 5: AI Music Generator                   -->
    <!-- ════════════════════════════════════════════ -->
    <div class="tab-panel" id="tab-musicgen">
      <h2>AI Music Generator</h2>
      <p class="subtitle">Describe the music you want and let Meta's MusicGen AI create it for you.</p>

      <!-- HF Token -->
      <div class="musicgen-token-section">
        <label class="musicgen-label" for="mg-token">Hugging Face API Token <span style="font-weight:400; color:var(--text-dimmed);">(free &mdash; <a href="https://huggingface.co/settings/tokens" target="_blank" rel="noopener" style="color:var(--accent-blue);">get one here</a>)</span></label>
        <div class="musicgen-token-row">
          <input type="password" id="mg-token" class="musicgen-token-input" placeholder="hf_xxxxxxxxxxxxxxxxxxxxxxxxx" autocomplete="off">
          <button class="musicgen-token-save" id="mg-saveToken">Save</button>
          <span class="musicgen-token-status" id="mg-tokenStatus"></span>
        </div>
      </div>

      <div class="musicgen-form">
        <label class="musicgen-label" for="mg-prompt">Music Description</label>
        <textarea id="mg-prompt" class="musicgen-prompt" rows="3"
          placeholder="e.g. Upbeat electronic dance music with heavy bass and bright synths"></textarea>

        <div class="musicgen-controls">
          <div class="musicgen-control-group">
            <label for="mg-model">Model:</label>
            <select id="mg-model" class="musicgen-select">
              <option value="facebook/musicgen-medium" selected>Medium (recommended)</option>
              <option value="facebook/musicgen-small">Small (fastest)</option>
              <option value="facebook/musicgen-large">Large (best quality, slower)</option>
              <option value="facebook/musicgen-melody">Melody</option>
            </select>
          </div>
          <div class="musicgen-control-group">
            <label for="mg-duration">Duration:</label>
            <input type="range" id="mg-duration" min="5" max="30" step="5" value="10">
            <span class="range-val" id="mg-durationVal">10s</span>
          </div>
        </div>
      </div>

      <button class="action-btn musicgen-btn" id="mg-generateBtn" disabled>Enter HF token above first</button>

      <div class="separator-status" id="mg-status" style="display:none;">
        <div class="separator-status-icon" id="mg-statusIcon"></div>
        <span id="mg-statusText">Connecting to AI service...</span>
      </div>

      <div class="progress-wrap" id="mg-progressWrap">
        <div class="progress-bar"><div class="fill" id="mg-progressFill"></div></div>
        <p class="progress-text" id="mg-progressText"></p>
      </div>

      <div class="error" id="mg-errorBox"></div>

      <div class="result" id="mg-result">
        <a id="mg-downloadLink" href="#" download="musicgen_output.wav">Download Generated Music</a>
        <p class="info" id="mg-resultInfo"></p>
        <div class="preview">
          <p class="preview-label">Preview:</p>
          <audio id="mg-audioPreview" controls></audio>
        </div>
      </div>

      <p class="musicgen-attribution">Powered by <a href="https://github.com/facebookresearch/audiocraft" target="_blank" rel="noopener">Meta MusicGen</a> via <a href="https://huggingface.co/docs/api-inference" target="_blank" rel="noopener">Hugging Face Inference API</a></p>
    </div>
  </div>

  <!-- Help Guide Button -->
  <button class="guide-toggle-btn" id="guideToggleBtn" title="Help Guide">?</button>

  <!-- Help Guide Sidebar -->
  <div class="guide-sidebar" id="guideSidebar">
    <div class="guide-header">
      <h3>Help Guide</h3>
      <button class="guide-close-btn" id="guideCloseBtn">&times;</button>
    </div>
    <div class="guide-content">
      <div class="guide-section" id="guide-repeater">
        <h4>MP3 Repeater</h4>
        <ol>
          <li>Upload an MP3 file by clicking the upload area or dragging a file onto it.</li>
          <li>Set the <strong>Total plays</strong> count (e.g. 3 = the song plays 3 times total).</li>
          <li>Click <strong>"Create Repeated MP3"</strong> to process.</li>
          <li>Preview the result and click <strong>"Download Repeated MP3"</strong> to save.</li>
        </ol>
      </div>
      <div class="guide-section" id="guide-setlist">
        <h4>Set List Creator</h4>
        <ol>
          <li>Upload multiple MP3 files using the upload area (supports multi-select and drag-and-drop).</li>
          <li>Set the number of songs in your set list and click <strong>"Update slots"</strong>.</li>
          <li>Assign songs to each slot using the dropdown selectors.</li>
          <li>Click <strong>"Create Set List MP3"</strong> to combine into one file.</li>
          <li>Preview and download the combined MP3.</li>
        </ol>
      </div>
      <div class="guide-section" id="guide-editor">
        <h4>MP3 Editor</h4>
        <ol>
          <li>Upload MP3 files to the <strong>File Library</strong> (right panel).</li>
          <li>Click <strong>"+ Add Track"</strong> to create blank track slots.</li>
          <li>Drag files from the library onto track slots to assign them.</li>
          <li>Adjust <strong>Volume</strong> (0&ndash;150%) and <strong>Pan</strong> (L/R) per track.</li>
          <li><strong>Drag track blocks</strong> on the timeline to set their start position. Hold <kbd>Shift</kbd> for fine positioning.</li>
          <li><strong>Drag the left/right edges</strong> of track blocks to trim audio individually.</li>
          <li>Use the green (start) and red (end) <strong>trim handles</strong> for global selection bounds.</li>
          <li>Toggle effects: <strong>EQ</strong>, <strong>Compressor</strong>, <strong>Reverb</strong>, <strong>Delay</strong>, <strong>Distortion</strong>.</li>
          <li>Select a target (<strong>Master</strong> or individual track) above the effect panels to apply effects per-track or globally.</li>
          <li>Click <strong>Play (Space)</strong> to preview. Click <strong>"Export Mixed MP3"</strong> to download the final file.</li>
        </ol>
      </div>
      <div class="guide-section" id="guide-converter">
        <h4>MP3 / WAV Converter</h4>
        <ol>
          <li>Upload an <strong>MP3</strong> or <strong>WAV</strong> file by clicking the upload area or dragging a file onto it.</li>
          <li>The format is auto-detected and the conversion direction is shown (e.g. MP3 &rarr; WAV).</li>
          <li>Click <strong>"Convert"</strong> to process the file.</li>
          <li>Preview the result and click the download link to save.</li>
        </ol>
      </div>
      <div class="guide-section" id="guide-musicgen">
        <h4>AI Music Generator</h4>
        <ol>
          <li>Get a free <strong>Hugging Face API token</strong> at <a href="https://huggingface.co/settings/tokens" target="_blank" style="color:var(--accent-blue);">huggingface.co/settings/tokens</a> and paste it in the token field.</li>
          <li>Enter a <strong>music description</strong> in the text box (e.g. &ldquo;upbeat jazz with piano and drums&rdquo;).</li>
          <li>Choose a <strong>model</strong> &mdash; &ldquo;Medium&rdquo; is recommended for balanced quality and speed.</li>
          <li>Set the <strong>duration</strong> (5&ndash;30 seconds).</li>
          <li>Click <strong>&ldquo;Generate Music&rdquo;</strong> and wait 30&ndash;120 seconds for the AI to compose.</li>
          <li>Preview the result and click the download link to save.</li>
        </ol>
        <p style="font-size:0.78rem; color:var(--text-dimmed); margin-top:8px;">Note: The model may need to load on first use, which can take 1&ndash;2 minutes. Your token is saved locally in your browser.</p>
      </div>
      <div class="guide-section" id="guide-shortcuts">
        <h4>Keyboard Shortcuts</h4>
        <ul class="guide-shortcuts-list">
          <li><kbd>Space</kbd> Play / Stop (editor tab)</li>
          <li><kbd>Click</kbd> on timeline to move playhead</li>
          <li><kbd>Shift</kbd> + drag for fine positioning (no snap)</li>
          <li><kbd>Esc</kbd> Close this help panel</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <p>MP3 Master Editor &mdash; Browser-based audio tools. Your files stay local.</p>
    <p style="margin-top: 4px;">AI features powered by <a href="https://huggingface.co/" target="_blank" rel="noopener">Hugging Face</a></p>
  </footer>

  <!-- Scripts: ORDER MATTERS -->
  <script src="js/utils.js"></script>
  <script src="js/tabs.js"></script>
  <script src="js/repeater.js"></script>
  <script src="js/setlist.js"></script>
  <script src="js/analyzer.js"></script>
  <script src="js/editor.js"></script>
  <script src="js/converter.js"></script>
  <script src="js/separator.js"></script>
  <script src="js/musicgen.js"></script>
  <script src="js/guide.js"></script>

  <!-- Gradio client (ES module) bridged to global scope -->
  <script type="module">
    import { Client, handle_file } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";
    window._GradioClient = Client;
    window._GradioHandleFile = handle_file;
    window.dispatchEvent(new Event('gradio-ready'));
  </script>
</body>
</html>
